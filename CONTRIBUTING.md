# Contributing to ChunkHound

Welcome! We're thrilled you're interested in contributing to ChunkHound. Whether you're fixing a typo, adding a feature, or improving documentation, your contribution matters. This is an open-source project built by and for the community.

**What makes ChunkHound unique:** This is a **100% AI-generated codebase**. Every line of code, documentation, and feature has been generated by AI agents working with human guidance. Read our [origin story](https://chunkhound.github.io/origin-story/) to see how ChunkHound bootstrapped itself from an empty repository to a functional POC in a single day.

## Finding Your First Contribution

### Good First Issues

New to the project? Look for issues labeled [`good first issue`](https://github.com/chunkhound/chunkhound/issues?q=is%3Aissue+is%3Aopen+label%3A%22good+first+issue%22). These are specifically curated for newcomers and include:

- Documentation improvements
- Test coverage additions
- Small bug fixes with clear scope
- Code cleanup tasks

### Other Ways to Contribute

- **Report bugs** - Found something broken? [Open an issue](https://github.com/chunkhound/chunkhound/issues/new)
- **Suggest features** - Have an idea? Start a [GitHub Discussion](https://github.com/chunkhound/chunkhound/discussions)
- **Improve docs** - See something confusing? PRs for documentation are always welcome
- **Answer questions** - Help others in [Discord](https://discord.gg/BAepHEXXnX) or Discussions

## Development Setup

### Prerequisites

- Python 3.10+
- [uv package manager](https://docs.astral.sh/uv/)

### Getting Started

1. **Fork and clone the repository:**
   ```bash
   git clone https://github.com/YOUR-USERNAME/chunkhound.git
   cd chunkhound
   ```

2. **Install dependencies:**
   ```bash
   uv sync
   ```

3. **Run smoke tests to verify your setup:**
   ```bash
   uv run pytest tests/test_smoke.py -v -n auto
   ```

4. **Optional: Index ChunkHound with itself** to use Code Research:
   ```bash
   uv run chunkhound index
   ```
   This lets your AI agent understand the codebase before making changes.

### Key Commands

```bash
# Linting
uv run ruff check chunkhound

# Type checking
uv run mypy chunkhound

# Format code
uv run ruff format chunkhound

# Run all tests
uv run pytest

# Run smoke tests (MANDATORY before commits)
uv run pytest tests/test_smoke.py -v -n auto

# Run ChunkHound locally
uv run chunkhound index [directory]
uv run chunkhound mcp              # MCP via stdio
uv run chunkhound mcp http --port 5173  # MCP via HTTP
```

## Code Style and PR Expectations

### Before Writing Code

Use ChunkHound's [Code Research](https://chunkhound.github.io/code-research) tool to understand existing patterns:

```
Research the codebase. Consider the surrounding code style, architecture, and module responsibilities.
Think of the minimal required changes that reuse as much as possible.
```

### Quality Standards

1. **Match existing patterns** - Study how similar features are implemented
2. **Minimize changes** - Prefer editing existing files over creating new ones
3. **Reuse mechanisms** - Don't reinvent existing functionality
4. **Run all checks before submitting:**
   ```bash
   uv run ruff check chunkhound
   uv run mypy chunkhound
   uv run pytest tests/test_smoke.py -v -n auto
   ```
5. **AI-generated only** - All code must be generated by AI agents

### Pull Request Checklist

Before submitting your PR:

- [ ] Smoke tests pass (`uv run pytest tests/test_smoke.py -v -n auto`)
- [ ] Code is formatted (`uv run ruff format chunkhound`)
- [ ] No linting errors (`uv run ruff check chunkhound`)
- [ ] No type errors (`uv run mypy chunkhound`)
- [ ] PR description explains the "why" not just the "what"
- [ ] Related issue is linked (if applicable)

### Testing Philosophy

ChunkHound's testing approach is designed for a 100% AI-generated codebase:

1. **Smoke tests are mandatory** - Primary safety guardrail against breaking changes
2. **Real components over mocks** - Exercise actual functionality whenever possible
3. **Fast feedback over coverage** - Prioritize immediate failure detection
4. **Tests as AI guardrails** - Define expected behavior to guide AI agents
5. **Cross-platform compatibility** - Tests must pass on Windows, macOS, and Linux

## Dependency Management

ChunkHound uses a multi-layered dependency strategy:

| File | Purpose |
|------|---------|
| `pyproject.toml` | Library dependencies with flexible `>=` constraints |
| `uv.lock` | Exact development environment (committed) |
| `requirements-lock.txt` | Production deployment versions |

```bash
# Add a new dependency
uv add "new-package>=1.0.0"

# Update all dependencies
uv lock --upgrade

# Install exact development environment
uv sync
```

## Release Process

ChunkHound uses **dynamic versioning** via hatch-vcs - versions are automatically derived from git tags.

```bash
# Create a release version
uv run scripts/update_version.py 4.1.0

# Create a pre-release
uv run scripts/update_version.py 4.1.0b1

# Bump to next minor version
uv run scripts/update_version.py --bump minor
```

Full publishing workflow:

1. Create version tag with `update_version.py`
2. Run smoke tests (MANDATORY)
3. Prepare release: `./scripts/prepare_release.sh`
4. Test locally: `pip install dist/chunkhound-X.Y.Z-py3-none-any.whl`
5. Push tag: `git push origin vX.Y.Z`
6. Publish: `uv publish`

## Getting Help

Stuck or have questions?

- **Discord:** [Join our community](https://discord.gg/BAepHEXXnX) - fastest way to get help
- **GitHub Discussions:** [Ask questions](https://github.com/chunkhound/chunkhound/discussions)
- **Documentation:** [chunkhound.github.io](https://chunkhound.github.io)

## License

By contributing to ChunkHound, you agree that your contributions will be licensed under the MIT License.

---

Ready to contribute? Start by running the smoke tests, pick a [good first issue](https://github.com/chunkhound/chunkhound/issues?q=is%3Aissue+is%3Aopen+label%3A%22good+first+issue%22), and join our [Discord](https://discord.gg/BAepHEXXnX) to connect with the community.
